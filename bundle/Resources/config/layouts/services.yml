services:
    netgen_admin_ui.layouts.related_layouts_loader:
        class: Netgen\Bundle\AdminUIBundle\Layouts\RelatedLayoutsLoader
        public: false
        arguments:
            - "@netgen_layouts.api.service.layout"
            - "@database_connection"

    netgen_admin_ui.layouts.menu_plugin:
        class: Netgen\Bundle\AdminUIBundle\Layouts\MenuPlugin
        public: false
        arguments:
            - "@security.authorization_checker"
        tags:
            - { name: netgen_admin_ui.menu_plugin, priority: -5 }

    netgen_admin_ui.layouts.event_listener.set_admin_pagelayout:
        class: Netgen\Bundle\AdminUIBundle\Layouts\EventListener\SetAdminPageLayoutListener
        public: true
        arguments:
            - "@ezpublish.config.resolver"
            - "%netgen_admin_ui.layouts.pagelayout%"
        tags:
            - { name: kernel.event_subscriber }

    netgen_admin_ui.layouts.event_listener.cache_enabled_listener:
        class: Netgen\Bundle\AdminUIBundle\Layouts\EventListener\CacheEnabledListener
        public: true
        arguments:
            - "@netgen_layouts.http_cache.client"
        tags:
            - { name: kernel.event_subscriber }

    netgen_admin_ui.layouts.event_listener.is_enterprise_version:
        class: Netgen\Bundle\AdminUIBundle\Layouts\EventListener\IsEnterpriseVersionListener
        public: true
        arguments:
            - "%netgen_admin_ui.layouts.is_enterprise%"
        tags:
            - { name: kernel.event_subscriber }
